Get all Siblings

getSiblings(el);

let getSiblings = function (e) {
  // for collecting siblings
  let siblings = []; 
  // if no parent, return no sibling
  if(!e.parentNode) {
    return siblings;
  }
  // first child of the parent node
  let sibling  = e.parentNode.firstChild;
  
  // collecting siblings
  while (sibling) {
    if (sibling.nodeType === 1 && sibling !== e) {
      if (sibling.classList.contains('has-sub')) {
        sibling.classList.remove('sub-open');
        sibling.querySelector('.sub-menu').style.display = 'none';
      }
    }
    sibling = sibling.nextSibling;
  }
};
